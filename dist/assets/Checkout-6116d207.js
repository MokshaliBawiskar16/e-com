import{a as j,n as f,d as v,f as y,r as m,B as g,j as e,g as b,k as N}from"./index-292677df.js";import{u as C,c as F,a as i}from"./index.esm-1eb0a854.js";import{F as t}from"./Form-957f404f.js";import{a as S}from"./index-6ca0c88e.js";import{O as E}from"./OrderSummary-c93eee45.js";import{C as c}from"./Container-0c561c1d.js";import{F as p}from"./FormControl-d702e372.js";import{B as O}from"./Button-70502d8a.js";import"./index-02438269.js";import"./ElementChildren-c4fbd484.js";import"./Col-d37237ba.js";import"./iconBase-d5d3d499.js";import"./Button-da82cc7e.js";const _=()=>{const h=j(),[x,{isSuccess:o}]=f(),{cart:a}=v(s=>s.bag),d=y(),r=C({initialValues:{address:"",city:"",payment:""},validationSchema:F({address:i().required("Enter  address"),city:i().required("Enter  city"),payment:i().required("choose  payment")}),onSubmit:(s,{resetForm:n})=>{x({...s,products:a.map(u=>u._id)}),n()}}),l=s=>N({"form-control my-2":!0,"is-invalid":r.touched[s]&&r.errors[s],"is-valid":r.touched[s]&&!r.errors[s]});return m.useEffect(()=>{a.length===0&&d("/")},[a]),m.useEffect(()=>{o&&(g.success("order Place Success"),d("/success"))},[o]),e.jsx(c,{children:e.jsx("form",{onSubmit:r.handleSubmit,children:e.jsxs("div",{className:"d-flex justify-content-between gap-5 ",children:[e.jsx(c,{className:"bg-light",children:e.jsx("div",{className:"row py-4",children:e.jsxs("div",{children:[e.jsx(p,{...r.getFieldProps("address"),className:l("address"),placeholder:"Enter Address"}),e.jsx(p,{...r.getFieldProps("city"),className:l("city"),placeholder:"Enter city"}),e.jsx(t.Check,{...r.getFieldProps("payment"),type:"radio",name:"payment",id:"cod",value:"cod",label:"COD"}),e.jsx(t.Check,{...r.getFieldProps("payment"),type:"radio",name:"payment",id:"online",value:"online",label:"Online"})]})})}),e.jsxs(c,{className:"mx-0",children:[e.jsx("h5",{className:"mt-3",children:"Order Summary"}),a&&e.jsxs("div",{class:"card w-76",children:[e.jsx("div",{class:"bg-light",children:a.map(s=>e.jsxs("div",{className:"d-flex gap-4 p-1 align-items-start container",children:[e.jsx("div",{children:e.jsx("img",{src:s.hero,alt:"",height:200,width:200})}),e.jsxs("div",{children:[e.jsx("p",{children:s.name}),e.jsx("p",{children:"Black"}),e.jsx("p",{className:"mb-5",children:"Large"}),e.jsxs("p",{className:"mt-2",children:["$",s.price]})]}),e.jsx("div",{children:e.jsxs(t.Select,{className:"form-select-sm",children:[e.jsx("option",{children:s.qty}),e.jsx("option",{value:"2",children:"2"}),e.jsx("option",{value:"3",children:"3"})]})}),e.jsx(O,{variant:"outline-danger",onClick:n=>h(b(s)),children:e.jsx(S,{})})]}))}),e.jsx("div",{class:"card-body",children:e.jsx(E,{showCheckout:!1})}),e.jsx("div",{class:"card-footer",children:e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Confirm Order"})})]})]})]})})})};export{_ as default};
