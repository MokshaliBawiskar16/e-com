import{x as o,y as h,r as d,B as x,j as e}from"./index-292677df.js";import{C as u}from"./Container-0c561c1d.js";import{T as j,f as p}from"./format-8b3f1109.js";import{B as m}from"./Button-70502d8a.js";import"./Button-da82cc7e.js";const C=()=>{const[i,{data:a}]=o(),[n,{isSuccess:c}]=h(),[t,l]=d.useState({limit:1,skip:0});return d.useEffect(()=>{i(t)},[t]),d.useEffect(()=>{c&&x.success("status update success")},[c]),e.jsxs(u,{children:[e.jsxs("select",{className:"form-control",onChange:s=>l({...t,limit:s.target.value}),children:[e.jsx("option",{value:"1",children:"1"}),e.jsx("option",{value:"2",children:"2"}),e.jsx("option",{value:"5",children:"5"}),e.jsx("option",{value:"10",children:"10"})]}),a&&e.jsxs(j,{className:"table table-bordered",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"ordaer id"}),e.jsx("th",{children:"adress"}),e.jsx("th",{children:"city"}),e.jsx("th",{children:"payment"}),e.jsx("th",{children:"products"}),e.jsx("th",{children:"status"}),e.jsx("th",{children:"order on"})]})}),e.jsx("tbody",{children:a.result.map(s=>e.jsxs("tr",{className:`
        ${s.status==="delivered"&&"table-success"}
        ${s.status==="cancel"&&"table-danger"}
        `,children:[e.jsx("td",{children:s._id}),e.jsx("td",{children:s.address}),e.jsx("td",{children:s.city}),e.jsx("td",{children:s.payment}),e.jsx("td",{children:s.products.map(r=>e.jsxs("div",{className:"d-flex gap-3",children:[e.jsx("img",{src:r.hero[0],height:50}),e.jsx("h6",{children:r.name}),e.jsxs("h6",{children:["price:",r.price]})]}))}),e.jsx("td",{children:e.jsxs("select",{onChange:r=>n({_id:s._id,status:r.target.value}),className:"form-control",value:s.status,children:[e.jsx("option",{value:"placed",children:"placed"}),e.jsx("option",{value:"delivered",children:"delivered"}),e.jsx("option",{value:"cancel",children:"cancel"})]})}),e.jsx("td",{children:p(s.createdAt,"dd-mm-yyyy")})]}))})]}),a&&[...Array(Math.ceil(a.total/t.limit)).keys()].map(s=>e.jsx(m,{onClick:r=>l({...t,skip:s*t.limit}),children:s+1}))]})};export{C as default};
