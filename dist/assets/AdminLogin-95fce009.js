import{f as x,m as h,r as t,B as d,j as s,k as j}from"./index-c4e2cc73.js";import{u as g,c as w,a as m}from"./index.esm-2c90ee21.js";import{S as b}from"./Spinner-629879c1.js";import{C as v}from"./Container-63baafe0.js";import{R as S}from"./Row-61f527d4.js";import{C}from"./Col-4b13941f.js";import{C as i}from"./Card-9b483582.js";import"./CardHeaderContext-1cd0ceea.js";const q=()=>{const l=x(),[c,{isSuccess:a,isError:n,isLoading:p,error:u}]=h(),e=g({enableReinitialize:!0,initialValues:{email:"",password:""},validationSchema:w({email:m().required("Enter email").email(),password:m().required("Enter password")}),onSubmit:(r,{resetForm:f})=>{c(r),f()}});if(t.useEffect(()=>{a&&(d.success("admin login success"),l("/admin"))},[a]),t.useEffect(()=>{n&&d.error(u.data.message||"something went wrong")},[n]),p)return s.jsxs(s.Fragment,{children:["Please wait...",s.jsx(b,{})]});const o=r=>j({"form-control my-2":!0,"is-invalid":e.touched[r]&&e.errors[r],"is-valid":e.touched[r]&&!e.errors[r]});return s.jsx(s.Fragment,{children:s.jsx(v,{children:s.jsx(S,{children:s.jsx(C,{sm:{span:6,offset:3},children:s.jsxs(i,{children:[s.jsx(i.Header,{children:"Admin Login"}),s.jsx(i.Body,{children:s.jsxs("form",{onSubmit:e.handleSubmit,children:[s.jsxs("div",{children:[s.jsx("input",{type:"email",...e.getFieldProps("email"),className:o("email")}),s.jsx("span",{className:"invalid-feedback",children:e.errors.email})]}),s.jsxs("div",{children:[s.jsx("input",{type:"password",...e.getFieldProps("password"),className:o("password")}),s.jsx("span",{className:"invalid-feedback",children:e.errors.password})]}),s.jsx("button",{className:"btn btn-dark",type:"submit",children:"Login"})]})})]})})})})})};export{q as default};
